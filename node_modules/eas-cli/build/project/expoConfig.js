"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPublicExpoConfig = exports.getPrivateExpoConfig = void 0;
const config_1 = require("@expo/config");
function getExpoConfigInternal(projectDir, opts = {}) {
    const originalProcessEnv = process.env;
    try {
        process.env = {
            ...process.env,
            ...opts.env,
        };
        const { exp } = (0, config_1.getConfig)(projectDir, {
            skipSDKVersionRequirement: true,
            ...(opts.isPublicConfig ? { isPublicConfig: true } : {}),
        });
        return exp;
    }
    finally {
        process.env = originalProcessEnv;
    }
}
function getPrivateExpoConfig(projectDir, opts = {}) {
    return getExpoConfigInternal(projectDir, { ...opts, isPublicConfig: false });
}
exports.getPrivateExpoConfig = getPrivateExpoConfig;
function getPublicExpoConfig(projectDir, opts = {}) {
    return getExpoConfigInternal(projectDir, { ...opts, isPublicConfig: true });
}
exports.getPublicExpoConfig = getPublicExpoConfig;
